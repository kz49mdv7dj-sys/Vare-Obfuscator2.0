# Copilot Instructions for Vare Obfuscator 2.0

## Project Overview
- **Vare Obfuscator 2.0** is a Python-based code obfuscator that encrypts and obfuscates Python scripts to reduce detection by anti-virus software and protect code from reverse engineering.
- The main entry point is `Vare.py`, which orchestrates the obfuscation process.
- The obfuscator uses AES encryption (via `cryptography.fernet`), zlib compression, marshal serialization, and base64 encoding.
- The obfuscated output is written to `Obfuscated.py` and, optionally, compiled to an executable and signed.

## Key Files & Structure
- `Vare.py`: Main script, contains the `VareObfuscator` class and CLI logic.
- `stub`: Template file used as a base for the obfuscated output; placeholders are replaced with encrypted data and junk code.
- `sigthief.py`: Used for signing executables if the `--sign` option is enabled.
- `README.md`: Basic usage and project information.

## Developer Workflows
- **Obfuscation:**
  - Run: `python Vare.py <target_file.py> [--junk] [--sign]`
  - `--junk`: Injects random junk code blocks for added obfuscation.
  - `--sign`: Compiles with PyInstaller and signs the executable using `sigthief.py` and a provided `sign.exe`.
- **Build/Sign:**
  - Requires `pyinstaller` and a valid `sign.exe` for signing.
  - Output executable is placed in `./dist/Obfuscated.exe` and renamed to `Vare.exe` after signing.
- **Stub Customization:**
  - The `stub` file must have module imports at the top if using `--sign`.
  - Placeholders in `stub` (e.g., `%KEY%`, `%1%`, `%junk1%`) are replaced during obfuscation.

## Project-Specific Patterns
- **Junk Code:**
  - Generated by `VareObfuscator.junkgenerator()` and inserted at multiple points in the stub.
- **Data Splitting:**
  - Encrypted payload is split into three parts and inserted into the stub for added complexity.
- **Randomization:**
  - Variable and function names are randomized for each obfuscation run.
- **No Standard Tests:**
  - No test suite or test runner is present; manual validation is required.

## External Dependencies
- `cryptography` (Fernet)
- `pyinstaller` (for `--sign`)
- `sigthief.py` and `sign.exe` (for signing)

## Example Usage
```sh
python Vare.py myscript.py --junk --sign
```

## Cautions
- The obfuscator is for educational use only. See README for disclaimer.
- Ensure all dependencies are installed before running with `--sign`.

---
For questions, see the README or contact the maintainer via Telegram.
